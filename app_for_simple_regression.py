# -*- coding: utf-8 -*-
"""App for simple regression.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1VbDNs7DU6GZHc2YjwdNDcrZwR2MKassd
"""
import streamlit as st
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd



st.title("ðŸ“ˆ Simple Linear Regression Interactive Plot")
st.write("Created by Dr Jose Islas")
# Generate sample data
np.random.seed(42)
#x_data = np.linspace(-5, 10, 50) # Changed x_data range to include negative values
x_data = np.array([150, 160, 170, 180, 190, 200])
true_slope = 2.5
true_intercept = 1.0
#noise = np.random.normal(0, 2, size=x_data.shape)
#y_data = true_slope * x_data + true_intercept + noise
y_data = np.array([5.0, 5.5, 6.0,6.5, 7.0, 7.5, 200])


# Hypothetical data for demonstration
#data = {'TeslaStockPrice': [150, 160, 170, 180, 190, 200],
 #       'EPS': [5.0, 5.5, 6.0, 6.5, 7.0, 7.5]}
#df = pd.DataFrame(data)

# Define dependent and independent variables
#y = df['TeslaStockPrice']
#X = df['EPS']





st.dataframe(pd.DataFrame({'EPS': x_data, 'TeslaStockPrice': y_data}))

# Sidebar sliders for slope and intercept
st.sidebar.header("ðŸ”§ Adjust Parameters")
m = st.sidebar.slider("Slope $\hat{Î²}_1=$", min_value=-10.0, max_value=10.0, value=1.0, step=0.1)
b = st.sidebar.slider("Intercept $\hat{Î²}_0=$", min_value=-10.0, max_value=10.0, value=0.0, step=0.1)

# Calculate predicted y values
y_pred = m * x_data + b

# Plotting
fig, ax = plt.subplots()
ax.scatter(x_data, y_data, label="Data", color='blue')
ax.plot(x_data, y_pred, label=f"y = {m:.2f}x + {b:.2f}", color='red')
ax.set_xlabel("EPS")
ax.set_ylabel("TeslaStockPrice")
ax.legend()
ax.grid(True)

# Add lines for the axes crossing in black
ax.axhline(0, color='black', lw=1)
ax.axvline(0, color='black', lw=1)




st.pyplot(fig)

# Optional display of equation
st.markdown(f"### ðŸ“Œ Current Line Equation: `y = {m:.2f}x + ({b:.2f})`")

